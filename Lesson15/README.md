# Практическая работа №15

**Тема:** Реализация навигации в Android-приложении (Bottom Navigation, Navigation Drawer, Navigation Component).


---

## Цель работы
Изучить современные принципы построения навигации в среде Android. Освоить работу с компонентами **BottomNavigationView** и **NavigationDrawer**, а также произвести интеграцию библиотеки **Android Jetpack Navigation Component** в основной проект для автоматизации управления фрагментами.

---

## 1. Реализация Bottom Navigation (Модуль «BottomNavigationApp»)

В рамках данного модуля был создан независимый проект для отработки навыков работы с нижней панелью навигации.

### Настройка ресурсов и дизайна:
*   **Цветовая палитра:** в файле `colors.xml` установлена фирменная гамма «Sage Green» (оттенки зеленого и кремового).
*   **Иконки:** добавлены векторные ресурсы для разделов: «Дом», «Инфо» и «Профиль».
*   **Интерфейс профиля:** реализован экран личного кабинета с использованием **ShapeableImageView** для отображения круглой аватарки пользователя с цветной рамкой.

### Техническая реализация:
*   Использован механизм **View Binding** для безопасного доступа к элементам разметки.
*   Настроен навигационный граф `mobile_navigation.xml`, где определены три точки назначения (фрагменты).
*   В `MainActivity` реализована связь между `BottomNavigationView` и `NavController` для автоматического переключения экранов.
<img width="2377" height="1045" alt="image" src="https://github.com/user-attachments/assets/a0d49a52-886b-4374-8a7e-a663a265b7d8" />
<img width="2372" height="1048" alt="image" src="https://github.com/user-attachments/assets/bb894281-1d17-4579-94be-495f7a9d1334" />
<img width="2377" height="1049" alt="image" src="https://github.com/user-attachments/assets/a58dc490-5149-44c4-b9c3-bc947b6128e4" />

---

## 2. Реализация Navigation Drawer (Модуль «NavigationDrawerApp»)

Создан модуль с боковым выдвижным меню для расширенного управления разделами приложения.

### Особенности реализации:
*   **Header:** в файле `nav_header_main.xml` настроена шапка меню, содержащая аватарку администратора, имя и контактные данные.
*   **Галерея:** реализован фрагмент «Галерея растений», использующий **RecyclerView** с **GridLayoutManager** (сетка в 2 колонки) для отображения фотографий суккулентов.
*   **Обработка переходов:** навигация организована через `DrawerLayout`. Реализована корректная обработка системной кнопки «Назад»: при открытой шторке первое нажатие закрывает меню, не выходя из приложения.
<img width="2375" height="1041" alt="image" src="https://github.com/user-attachments/assets/16b69a57-9692-4c47-b1fe-fc5d1c195fe8" />
<img width="2376" height="1050" alt="image" src="https://github.com/user-attachments/assets/17bafdfa-d57f-4098-a96e-2e4161fd68c3" />
<img width="2373" height="1042" alt="image" src="https://github.com/user-attachments/assets/65e0bd92-8571-4004-80d5-de6f3ace30d6" />
<img width="2371" height="1043" alt="image" src="https://github.com/user-attachments/assets/00dcffb5-d161-4282-a6b2-a7301326e102" />

---

## 3. Контрольное задание: Проект Succuforest

В основном проекте **Succuforest** произведен полный рефакторинг системы навигации и внедрена логика работы с внешними сервисами.

### Внедрение Navigation Component:
1.  **Граф навигации:** создан файл `nav_graph.xml`, объединяющий все экраны: `HomeFragment`, `CatalogFragment`, `FavoritesFragment`, `ProfileFragment` и `AiStubActivity`.
2.  **Передача данных:** настроены аргументы (`argument`) для передачи `category_id` при переходе из категорий главного экрана в общий каталог.
3.  **Интеграция в Layout:** в `activity_root.xml` старый контейнер заменен на `FragmentContainerView` с указанием `NavHostFragment`.

### Связывание с бизнес-логикой:
*   **Безопасность:** в `RootActivity` реализован кастомный `OnItemSelectedListener`. Внедрена проверка авторизации через **Firebase Auth**: если пользователь является гостем, доступ к разделу «Сканирование» (AI) блокируется с выводом уведомления.
*   **Внешний сервис погоды:** реализована интеграция с метеорологическим API через **Retrofit**. На главной странице отображается блок с актуальной температурой и влажностью.
*   **Умные советы:** во `HomeViewModel` реализована логика анализа погодных данных. Приложение выдает динамические рекомендации по уходу (например: *"Сейчас жарко и сухо, можно полить суккуленты, но немного"*).

```
private void generateAdvice(WeatherInfo info) {
    if (info.getTemperature() > 25 && info.getHumidity() < 40) {
        wateringAdvice.setValue("Сейчас жарко и сухо. Можно полить суккуленты, но немного.");
    } else {
        wateringAdvice.setValue("Условия в норме. Полив по графику.");
    }
}
```
<img width="2172" height="1010" alt="image" src="https://github.com/user-attachments/assets/5b45abf8-acc1-49c5-b83a-dbd50d9fe99e" />

## Итоги

В ходе выполнения работы были освоены три фундаментальных подхода к навигации в Android. Использование **Navigation Component** позволило:
* Визуализировать карту переходов приложения в графическом редакторе.
* Избавиться от ручного управления транзакциями **FragmentManager**.
* Обеспечить безопасную передачу данных между экранами.
* Централизовать логику навигации, сделав код **MainActivity** максимально лаконичным и читаемым.

Интеграция реального сетевого сервиса погоды и логики «умных советов» позволила создать прототип полезного инструмента для любителей растений.

---
**Выполнила:** Хасанова Рената  
**Группа:** БСБО-07-22

# Практическая работа №10

**Тема:** Внедрение модульности (app/domain/data), разработка прототипа приложения Succuforest, интеграция Firebase Auth и реализация многоуровневого хранения данных (Room, SharedPreferences, Mock API).

---

## Цель работы
*   Разделение проекта на независимые физические модули **domain** и **data**.
*   Изоляция бизнес-интерфейсов от технической реализации.
*   Создание прототипа магазина растений **Succuforest**.
*   Реализация авторизации через **Firebase Auth**.
*   Организация работы с данными тремя способами: **SharedPreferences**, **Room** и **NetworkApi**.

---

## Часть 1: Movie Project

В первой части работы была отработана база разделения монолитного приложения на слои в рамках **Clean Architecture**.

### Архитектура и модули
1.  **Модуль domain:** Содержит исключительно чистую логику. Здесь определена сущность фильма, интерфейс репозитория и сценарии использования (сохранение и получение избранного). Модуль полностью лишен зависимостей от Android SDK.
2.  **Модуль data:** Отвечает за реализацию репозитория. Ключевой особенностью стало внедрение интерфейса хранилища, что позволило репозиторию не работать с памятью напрямую.
3.  **Модуль presentation:** Выполняет роль презентационного слоя. Здесь реализована простая форма ввода и ручное связывание всех слоев (создание графа зависимостей).
<img width="524" height="832" alt="image" src="https://github.com/user-attachments/assets/4bbd777b-05db-4c8b-b789-f0e6108cedf6" />

### Раздельные модели и мапперы
Для обеспечения полной независимости слоев были внедрены две разные модели данных. Одна используется в бизнес-логике и интерфейсе, а вторая — исключительно на уровне хранения. Репозиторий выполняет роль «переводчика» (маппера), преобразуя данные из одного формата в другой при передаче между модулями.

### Работа с SharedPreferences
В данном проекте **SharedPreferences** были инкапсулированы внутри модуля **data**. Слой домена и интерфейс не имеют представления о том, как именно сохраняются данные, что позволяет в любой момент заменить способ хранения без изменения логики приложения.
<img width="532" height="1189" alt="image" src="https://github.com/user-attachments/assets/f20345c2-dd26-43d4-8e4e-e051b559c2c2" />

---

## Часть 2: Succuforest

На основе полученных знаний был разработан прототип приложения для магазина суккулентов.

### Декомпозиция на модули
Проект физически разделен на три части:
*   **Модуль :domain** — содержит сущности растений, контракты репозиториев и бизнес-сценарии.
*   **Модуль :data** — включает реализации репозиториев, базу данных, мапперы и эмуляцию сети.
*   **Модуль :presentation** — содержит UI (фрагменты и активности), навигацию и логику связывания слоёв.
<img width="476" height="1308" alt="image" src="https://github.com/user-attachments/assets/40dc7906-ffb6-456b-88a5-d22357121a3f" />

### Авторизация (Firebase Auth)
Реализована новая активность авторизации. Логика входа и регистрации через **Firebase** разведена по трем модулям: интерфейс собирает данные, домен управляет процессом, а дата-слой осуществляет непосредственное взаимодействие с сервисами Google.
<img width="550" height="1201" alt="image" src="https://github.com/user-attachments/assets/c598bad9-55bc-4d28-ad8a-31d69a51f57c" />

### Стратегии обработки данных
В репозиториях Succuforest реализовано три независимых способа работы с информацией:
1.  **SharedPreferences:** Используется для хранения информации о клиенте (профиль пользователя). Это обеспечивает быстрый доступ к данным при старте приложения.
2.  **Room:** Выступает в качестве локального кэша и хранилища для списка «Избранного». Все товары, загруженные из сети, сохраняются здесь, что позволяет приложению работать в офлайн-режиме.
3.  **NetworkApi (Mock):** Эмулирует работу реального сервера. Отдает список суккулентов с ценами, описаниями и ссылками на изображения. Репозиторий самостоятельно решает, когда нужно обновить данные из «сети», а когда взять их из локальной базы.

### Дизайн и работа с изображениями
Визуальное оформление приложения соответствует современным стандартам:
*   **Интерфейс:** Выполнен в природной цветовой гамме (оттенки зеленого и кремового) с использованием иконок и нижнего меню навигации (**BottomNavigationView**).
*   **Карточки товаров:** Реализованы в виде плиток с тенями и скругленными углами.
*   **Glide:** Интегрирована библиотека для работы с изображениями. Она обеспечивает плавную загрузку фото растений из хранилища, их кэширование и корректное отображение в каталоге.
<img width="544" height="1199" alt="image" src="https://github.com/user-attachments/assets/448519ca-1b58-470a-b3a4-27fc21179425" />
<img width="538" height="1196" alt="image" src="https://github.com/user-attachments/assets/5320aa78-479d-428b-9185-7d952738b31c" />
<img width="547" height="1198" alt="image" src="https://github.com/user-attachments/assets/1c0d5931-9867-4f97-81a3-9dd26fcdcff3" />
<img width="556" height="1214" alt="image" src="https://github.com/user-attachments/assets/626fa5dc-1db3-4d47-9b8c-99269e04e82e" />
<img width="536" height="1192" alt="image" src="https://github.com/user-attachments/assets/3ec1c43d-6351-4fc6-95a2-ef4a5597a0ce" />
<img width="532" height="1190" alt="image" src="https://github.com/user-attachments/assets/fa1ace02-9efd-40ab-b85b-378103699f92" />

---

## Результаты выполнения
1.  **Модульность:** Проект успешно разделен на три независимых модуля, настроены связи и зависимости.
2.  **Чистая архитектура:** Достигнута полная изоляция бизнес-логики от Android-библиотек и Firebase SDK.
3.  **Многоуровневое хранение:** Реализована гибкая система, сочетающая локальную БД, настройки и эмуляцию сетевых запросов.
4.  **Пользовательский опыт:** Создан интуитивно понятный дизайн с полноценным каталогом, карточками товаров и системой избранного.

---
**Выполнила:** Хасанова Рената  
**Группа:** БСБО-07-22

